// 
// layout
//

// set breakpoints to EMS
@if($debug != true) {
    @include breakpoint-set('to ems', true);
}

html, body {
    height: 100%;
}

body {
    // helps panel navigation visuals
    .js & {
        overflow: hidden;
    }

    // transition: all 300ms ease-in 0ms;

    // test mediaQueries
    @include queryInfo();
}

// main
.main {
    height: 100%;
    position: relative;

    // helps panel navigation visuals
    .js & {
        overflow: hidden;
    }
}

// panel
.panel {
    $_bkg-image: 'panel-bkg.png';
    $_bkg-image-2x: 'panel-bkg-2x.png';
    $_img-width: nth(map-get($images, panel-bkg), 1);

    width: 100%;
    height: 100%;
    position: relative;
    background: url($image-url + $_bkg-image) 0 bottom repeat-x;
    background-size: prem(132px);
    
    @media (-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 124.8dpi), (min-resolution: 1.3dppx) {
        background-image: url($image-url + $_bkg-image-2x);
    }

    @include breakpoint(map-get($breakpoints, medium)) {
        $_bkg-image: 'panel-bkg-medium.png';
        $_bkg-image-2x: 'panel-bkg-medium-2x.png';
        $_img-width: nth(map-get($images, panel-bkg-medium), 1);

        background-image: url($image-url + $_bkg-image);
        background-size: prem(212px);

        @media (-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 124.8dpi), (min-resolution: 1.3dppx) {
            background-image: url($image-url + $_bkg-image-2x);
        }
    }

    @include breakpoint(map-get($breakpoints, large)) {
        background-size: prem(282px);
    }


    // panel--cover
    &--cover {
        background-color: $dark-goldenrod;
    }

    // panel--about
    &--about {
        background-color: $lucky-point;
    }

    // panel--skills
    &--skills {
        background-color: $dark-slate-blue;
    }

    // panel--roles
    &--roles {
        background-color: $myrtle;
    }

    // panel--work
    &--work {
        background-color: $falu-red;
    }

    // panel--contact
    &--contact {
        background-color: $siren;
    }

    // panel__detail
    &__detail {
        $_hSpace: getPercentageFrom(
            nth($panel-padding-x-small, 2), 
            map-get($breakpoints, x-small)
        );

        margin: 0 auto;
        padding: 0 $_hSpace;
        left: 50%;
        top: 50%;
        width: 100%;
        position: absolute;
        transform: translate(-50%, -50%);

        @include breakpoint(map-get($breakpoints, small)) {
            $_hSpace: getPercentageFrom(
                nth($panel-padding-small, 2), 
                map-get($breakpoints, small)
            );

            padding: 0 $_hSpace;
        }

        @include breakpoint(map-get($breakpoints, medium)) {
            $_hSpace: getPercentageFrom(
                nth($panel-padding-medium, 2), 
                map-get($breakpoints, medium)
            );

            padding: 0 $_hSpace;
        }

        @include breakpoint(map-get($breakpoints, large)) {
            $_hSpace: nth($panel-padding-large, 2);

            padding: 0 $_hSpace;
            max-width: prem($site-max-width);
        }

    }
}

.footer {
    @include hidden;
}